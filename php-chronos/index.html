<!DOCTYPE html> 
  

  
    
    
  

<html lang="zh">

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <link data-n-head="true" rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, viewport-fit=cover" />
  
  <title>
  php chronos 时间管理库 - 编程与开发
</title>
  <!-- CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fontsource-cascadia-code@2.2.6/index.min.css" crossorigin />
  <link rel="stylesheet" href='//erasin.wang/icon.css?F59EA3FB4CHG8E' />
  <link rel="stylesheet" href='//erasin.wang/style.css?F59EA3FB4CHG8E' />
  <link rel="stylesheet" href='//erasin.wang/print.css?F59EA3FB4CHG8E' media="print" />
  

  <link rel="preload" as="style" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css" onload='this.rel="stylesheet"' crossorigin />
  <link rel="preload" as="script" href="//cdn.jsdelivr.net/npm/animejs@3.1.0/lib/anime.min.js" crossorigin />

  <link rel="prefetch" as="style" href="//cdn.jsdelivr.net/npm/katex@0.13.2/dist/katex.min.css" crossorigin />
  <link rel="prefetch" as="script" href="//cdn.jsdelivr.net/npm/katex@0.13.2/dist/katex.min.js" crossorigin />
  <link rel="prefetch" as="script" href="//cdn.jsdelivr.net/npm/katex@0.13.2/dist/contrib/auto-render.min.js" crossorigin />

  <link rel="prefetch" as="script" href="//cdn.jsdelivr.net/npm/mermaid@8.5.0/dist/mermaid.min.js" crossorigin />
  <link rel="prefetch" as="script" href="//cdn.staticfile.org/axios/0.19.2/axios.min.js" crossorigin />

  <link rel="preload" as="script" href='//erasin.wang/assets/js/comment.js?F59EA3FB4CHG8E' />
  <link rel="preload" as="script" href='//erasin.wang/assets/js/init.js?F59EA3FB4CHG8E' />

  


  
  <meta content="" property="description" />

  
    <meta content="php,时间格式" name="keywords" />
  

  
    <meta content="erasin" name="author" />
  

  

</head>

<body class="col">
  <div id="js-progress-bar" style="width: 0%"></div>
  
  <a href="#" id="btn-top" class="no-print"> <i class="icon icon-angle-double-up"></i> </a>

  <div id="main">
    
    <div id="sidebar" class="col no-print mask">
      <div class="wrapper">&nbsp; &nbsp;</div>
      <div class="sidebar-sticky">
        <div class="sidebar-about">
          
          <a href="//erasin.wang/">
            <h1>ERASIN</h1>
          </a>
          
          <p class="lead">编程中</p>
          
          <p>
            <a href="https://github.com/erasin" target="_blank"> <i class="icon icon-git"></i></a>
            <a href="/rss.xml" target="_blank"> <i class="icon icon-rss"></i></a>
            <a href='//erasin.wang/tags'> <i class="icon icon-hashtag"></i></a>
            <a href='//erasin.wang/categories'> <i class="icon icon-bookmark"></i></a>
            
          </p>
          
        </div>

        <a id="navbar-burger" class="navbar-burger burger" data-target="sidebar-nav">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>

        <ul class="sidebar-nav" id="sidebar-nav">
           
          <li class="sidebar-nav-item">
            <a href="//erasin.wang">INDEX <i class='icon icon-home'></i></a>
          </li>
          
          <li class="sidebar-nav-item">
            <a href="//erasin.wang/categories/awesome">AWESOME  <i class='icon icon-thumbs-up-alt'></i></a>
          </li>
          
          <li class="sidebar-nav-item">
            <a href="//erasin.wang/categories/book">BOOK <i class='icon icon-book'></i></a>
          </li>
          
          <li class="sidebar-nav-item">
            <a href="//erasin.wang/categories/rustlang">RUST LANGUAGE  <i class='icon icon-rust'></i></a>
          </li>
          
          <li class="sidebar-nav-item">
            <a href="//erasin.wang/categories/game">GAME DEV <i class='icon icon-gamepad'></i></a>
          </li>
          
          <li class="sidebar-nav-item">
            <a href="//erasin.wang/comments">COMMENTS <i class='icon icon-comment'></i></a>
          </li>
           
          
        </ul>
      </div>
    </div>
    

    <div id="container" class="col">
     
    
  
<nav class="breadcrumb no-print" aria-label="breadcrumbs">
  
  
  
  <a href="//erasin.wang/">ERASIN </a>
  
  <a href="#" class="is-active" aria-current="page"> php chronos 时间管理库 </a>
</nav>

  



<div class="post animated fadeIn">
  <div class="post-header">
    <h1 class="title">
      PHP CHRONOS 时间管理库
      


    </h1>
    <div class="sub-title">
      2020-06-16
    </div>
  </div>

  <div class="post-content  " 
    style="background-image:url(&#x27;&#x2F;assets&#x2F;img&#x2F;undraw_time_management_30iu.svg&#x27;)" >
    <p>Chronos , PHP 时间日历处理库，零依赖。</p>
<p>使用 composer 安装</p>
<pre style="background-color:#2b303b;color:#6c7079;"><code><span style="color:#abb2bf;">php composer.phar require &quot;cakephp/chronos:^2.0&quot;
</span></code></pre>
<ul>
<li><strong>Cake\Chronos\Chronos</strong> 是不可变的日期和时间对象。</li>
<li><strong>Cake\Chronos\Date</strong> 是不可变的日期对象。 is a immutable date object.</li>
<li><strong>Cake\Chronos\MutableDateTime</strong> 是可变的日期和时间对象。 is a mutable date and time object.</li>
<li><strong>Cake\Chronos\MutableDate</strong> 是可变的日期对象。 is a mutable date object.</li>
<li><strong>Cake\Chronos\ChronosInterval</strong> 是 DateInterval 的扩展。 is an extension to the <strong>DateInterval</strong> object.</li>
</ul>
<span id="continue-reading"></span>
<p>引入头部</p>
<pre style="background-color:#2b303b;color:#6c7079;"><code><span style="color:#abb2bf;">use Cake\Chronos\Chronos;
</span></code></pre>
<h2 id="shi-li-chuang-jian">实例创建</h2>
<pre data-lang="php" style="background-color:#2b303b;color:#6c7079;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#c94e42;">&lt;?php
</span><span style="color:#cd74e8;">use </span><span style="color:#abb2bf;">Cake\Chronos\</span><span style="color:#f0c678;">Chronos</span><span style="color:#abb2bf;">;
</span><span style="color:#abb2bf;">
</span><span style="color:#eb6772;">$now </span><span style="color:#adb7c9;">= </span><span style="color:#f0c678;">Chronos</span><span style="color:#abb2bf;">::</span><span style="color:#eb6772;">now</span><span style="color:#abb2bf;">();
</span><span style="color:#eb6772;">$today </span><span style="color:#adb7c9;">= </span><span style="color:#f0c678;">Chronos</span><span style="color:#abb2bf;">::</span><span style="color:#eb6772;">today</span><span style="color:#abb2bf;">();
</span><span style="color:#eb6772;">$yesterday </span><span style="color:#adb7c9;">= </span><span style="color:#f0c678;">Chronos</span><span style="color:#abb2bf;">::</span><span style="color:#eb6772;">yesterday</span><span style="color:#abb2bf;">();
</span><span style="color:#eb6772;">$tomorrow </span><span style="color:#adb7c9;">= </span><span style="color:#f0c678;">Chronos</span><span style="color:#abb2bf;">::</span><span style="color:#eb6772;">tomorrow</span><span style="color:#abb2bf;">();
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// 
</span><span style="color:#eb6772;">$time </span><span style="color:#adb7c9;">= </span><span style="color:#cd74e8;">new </span><span style="color:#f0c678;">Chronos</span><span style="color:#abb2bf;">(</span><span style="color:#9acc76;">&#39;2015-12-31 23:59:58.123&#39;</span><span style="color:#abb2bf;">);
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// Parse relative expressions
</span><span style="color:#eb6772;">$date </span><span style="color:#adb7c9;">= </span><span style="color:#f0c678;">Chronos</span><span style="color:#abb2bf;">::</span><span style="color:#eb6772;">parse</span><span style="color:#abb2bf;">(</span><span style="color:#9acc76;">&#39;+2 days, +3 hours&#39;</span><span style="color:#abb2bf;">);
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// Date and time integer values.
</span><span style="color:#eb6772;">$date </span><span style="color:#adb7c9;">= </span><span style="color:#f0c678;">Chronos</span><span style="color:#abb2bf;">::</span><span style="color:#eb6772;">create</span><span style="color:#abb2bf;">(</span><span style="color:#db9d63;">2015</span><span style="color:#abb2bf;">, </span><span style="color:#db9d63;">12</span><span style="color:#abb2bf;">, </span><span style="color:#db9d63;">25</span><span style="color:#abb2bf;">, </span><span style="color:#db9d63;">4</span><span style="color:#abb2bf;">, </span><span style="color:#db9d63;">32</span><span style="color:#abb2bf;">, </span><span style="color:#db9d63;">58</span><span style="color:#abb2bf;">);
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// Date or time integer values.
</span><span style="color:#eb6772;">$date </span><span style="color:#adb7c9;">= </span><span style="color:#f0c678;">Chronos</span><span style="color:#abb2bf;">::</span><span style="color:#eb6772;">createFromDate</span><span style="color:#abb2bf;">(</span><span style="color:#db9d63;">2015</span><span style="color:#abb2bf;">, </span><span style="color:#db9d63;">12</span><span style="color:#abb2bf;">, </span><span style="color:#db9d63;">25</span><span style="color:#abb2bf;">);
</span><span style="color:#eb6772;">$date </span><span style="color:#adb7c9;">= </span><span style="color:#f0c678;">Chronos</span><span style="color:#abb2bf;">::</span><span style="color:#eb6772;">createFromTime</span><span style="color:#abb2bf;">(</span><span style="color:#db9d63;">11</span><span style="color:#abb2bf;">, </span><span style="color:#db9d63;">45</span><span style="color:#abb2bf;">, </span><span style="color:#db9d63;">10</span><span style="color:#abb2bf;">);
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// Parse formatted values.
</span><span style="color:#eb6772;">$date </span><span style="color:#adb7c9;">= </span><span style="color:#f0c678;">Chronos</span><span style="color:#abb2bf;">::</span><span style="color:#eb6772;">createFromFormat</span><span style="color:#abb2bf;">(</span><span style="color:#9acc76;">&#39;m/d/Y&#39;</span><span style="color:#abb2bf;">, </span><span style="color:#9acc76;">&#39;06/15/2015&#39;</span><span style="color:#abb2bf;">);
</span><span style="color:#abb2bf;">
</span></code></pre>
<h2 id="ke-bian-he-bu-ke-bian-dui-xiang">可变 和 不可变对象</h2>
<pre data-lang="php" style="background-color:#2b303b;color:#6c7079;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#c94e42;">&lt;?php
</span><span style="font-style:italic;color:#5f697a;">// 可变对象可以处理，不可变对象改处理方式不起作用
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">addDay</span><span style="color:#abb2bf;">(</span><span style="color:#db9d63;">1</span><span style="color:#abb2bf;">);
</span><span style="color:#eb6772;">doSomething</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">);
</span><span style="color:#cd74e8;">return </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">;
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// 不可变对象工作方式
</span><span style="color:#eb6772;">$time </span><span style="color:#adb7c9;">= </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">addDay</span><span style="color:#abb2bf;">(</span><span style="color:#db9d63;">1</span><span style="color:#abb2bf;">);
</span><span style="color:#eb6772;">$time </span><span style="color:#adb7c9;">= </span><span style="color:#eb6772;">doSomething</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">);
</span><span style="color:#cd74e8;">return </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">;
</span></code></pre>
<h2 id="ri-qi-dui-xiang">日期对象</h2>
<pre data-lang="php" style="background-color:#2b303b;color:#6c7079;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#c94e42;">&lt;?php
</span><span style="color:#cd74e8;">use </span><span style="color:#abb2bf;">Cake\Chronos\</span><span style="color:#f0c678;">Date</span><span style="color:#abb2bf;">;
</span><span style="color:#abb2bf;">
</span><span style="color:#eb6772;">$today </span><span style="color:#adb7c9;">= </span><span style="color:#f0c678;">Date</span><span style="color:#abb2bf;">::</span><span style="color:#eb6772;">today</span><span style="color:#abb2bf;">();
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// Changes to the time/timezone are ignored.
</span><span style="color:#eb6772;">$today</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">modify</span><span style="color:#abb2bf;">(</span><span style="color:#9acc76;">&#39;+1 hours&#39;</span><span style="color:#abb2bf;">);
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// Outputs &#39;2015-12-20&#39;
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$today</span><span style="color:#abb2bf;">;
</span></code></pre>
<pre data-lang="php" style="background-color:#2b303b;color:#6c7079;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#c94e42;">&lt;?php
</span><span style="color:#cd74e8;">use </span><span style="color:#abb2bf;">Cake\Chronos\</span><span style="color:#f0c678;">Date</span><span style="color:#abb2bf;">:
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// Takes the current date from Asia/Tokyo time zone
</span><span style="color:#eb6772;">$today </span><span style="color:#adb7c9;">= </span><span style="color:#f0c678;">Date</span><span style="color:#abb2bf;">::</span><span style="color:#eb6772;">today</span><span style="color:#abb2bf;">(</span><span style="color:#9acc76;">&#39;Asia/Tokyo&#39;</span><span style="color:#abb2bf;">);
</span></code></pre>
<h2 id="xiu-gai-fang-fa">修改方法</h2>
<pre data-lang="php" style="background-color:#2b303b;color:#6c7079;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#c94e42;">&lt;?php 
</span><span style="font-style:italic;color:#5f697a;">// 设定日期
</span><span style="color:#eb6772;">$halloween </span><span style="color:#adb7c9;">= </span><span style="color:#f0c678;">Chronos</span><span style="color:#abb2bf;">::</span><span style="color:#eb6772;">create</span><span style="color:#abb2bf;">()
</span><span style="color:#abb2bf;">    -&gt;</span><span style="color:#eb6772;">year</span><span style="color:#abb2bf;">(</span><span style="color:#db9d63;">2015</span><span style="color:#abb2bf;">)
</span><span style="color:#abb2bf;">    -&gt;</span><span style="color:#eb6772;">month</span><span style="color:#abb2bf;">(</span><span style="color:#db9d63;">10</span><span style="color:#abb2bf;">)
</span><span style="color:#abb2bf;">    -&gt;</span><span style="color:#eb6772;">day</span><span style="color:#abb2bf;">(</span><span style="color:#db9d63;">31</span><span style="color:#abb2bf;">)
</span><span style="color:#abb2bf;">    -&gt;</span><span style="color:#eb6772;">hour</span><span style="color:#abb2bf;">(</span><span style="color:#db9d63;">20</span><span style="color:#abb2bf;">)
</span><span style="color:#abb2bf;">    -&gt;</span><span style="color:#eb6772;">minute</span><span style="color:#abb2bf;">(</span><span style="color:#db9d63;">30</span><span style="color:#abb2bf;">);
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// 修改时间
</span><span style="color:#eb6772;">$future </span><span style="color:#adb7c9;">= </span><span style="color:#f0c678;">Chronos</span><span style="color:#abb2bf;">::</span><span style="color:#eb6772;">create</span><span style="color:#abb2bf;">()
</span><span style="color:#abb2bf;">    -&gt;</span><span style="color:#eb6772;">addYear</span><span style="color:#abb2bf;">(</span><span style="color:#db9d63;">1</span><span style="color:#abb2bf;">)
</span><span style="color:#abb2bf;">    -&gt;</span><span style="color:#eb6772;">subMonth</span><span style="color:#abb2bf;">(</span><span style="color:#db9d63;">2</span><span style="color:#abb2bf;">)
</span><span style="color:#abb2bf;">    -&gt;</span><span style="color:#eb6772;">addDays</span><span style="color:#abb2bf;">(</span><span style="color:#db9d63;">15</span><span style="color:#abb2bf;">)
</span><span style="color:#abb2bf;">    -&gt;</span><span style="color:#eb6772;">addHours</span><span style="color:#abb2bf;">(</span><span style="color:#db9d63;">20</span><span style="color:#abb2bf;">)
</span><span style="color:#abb2bf;">    -&gt;</span><span style="color:#eb6772;">subMinutes</span><span style="color:#abb2bf;">(</span><span style="color:#db9d63;">2</span><span style="color:#abb2bf;">);
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// 获取特定的时间
</span><span style="color:#eb6772;">$time </span><span style="color:#adb7c9;">= </span><span style="color:#f0c678;">Chronos</span><span style="color:#abb2bf;">::</span><span style="color:#eb6772;">create</span><span style="color:#abb2bf;">();
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">startOfDay</span><span style="color:#abb2bf;">();
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">endOfDay</span><span style="color:#abb2bf;">();
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">startOfMonth</span><span style="color:#abb2bf;">();
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">endOfMonth</span><span style="color:#abb2bf;">();
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">startOfYear</span><span style="color:#abb2bf;">();
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">endOfYear</span><span style="color:#abb2bf;">();
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">startOfWeek</span><span style="color:#abb2bf;">();
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">endOfWeek</span><span style="color:#abb2bf;">();
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// 周时间
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">next</span><span style="color:#abb2bf;">(</span><span style="color:#f0c678;">ChronosInterface</span><span style="color:#abb2bf;">::</span><span style="color:#db9d63;">TUESDAY</span><span style="color:#abb2bf;">);
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">previous</span><span style="color:#abb2bf;">(</span><span style="color:#f0c678;">ChronosInterface</span><span style="color:#abb2bf;">::</span><span style="color:#db9d63;">MONDAY</span><span style="color:#abb2bf;">);
</span><span style="color:#abb2bf;">
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// DST 转化为 UTC 时间后处理
</span><span style="font-style:italic;color:#5f697a;">// Additional hour gained.
</span><span style="color:#eb6772;">$time </span><span style="color:#adb7c9;">= </span><span style="color:#cd74e8;">new </span><span style="color:#f0c678;">Chronos</span><span style="color:#abb2bf;">(</span><span style="color:#9acc76;">&#39;2014-03-30 00:00:00&#39;</span><span style="color:#abb2bf;">, </span><span style="color:#9acc76;">&#39;Europe/London&#39;</span><span style="color:#abb2bf;">);
</span><span style="color:#eb6772;">debug</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">modify</span><span style="color:#abb2bf;">(</span><span style="color:#9acc76;">&#39;+24 hours&#39;</span><span style="color:#abb2bf;">)); </span><span style="font-style:italic;color:#5f697a;">// 2014-03-31 01:00:00
</span><span style="font-style:italic;color:#5f697a;">// First switch to UTC, and modify
</span><span style="color:#eb6772;">$time </span><span style="color:#adb7c9;">= </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">setTimezone</span><span style="color:#abb2bf;">(</span><span style="color:#9acc76;">&#39;UTC&#39;</span><span style="color:#abb2bf;">)-&gt;</span><span style="color:#eb6772;">modify</span><span style="color:#abb2bf;">(</span><span style="color:#9acc76;">&#39;+24 hours&#39;</span><span style="color:#abb2bf;">);
</span><span style="color:#abb2bf;">
</span></code></pre>
<h2 id="bi-jiao">比较</h2>
<table><thead><tr><th>char</th><th>u</th><th>title</th></tr></thead><tbody>
<tr><td>gt</td><td>&gt;</td><td>大于</td></tr>
<tr><td>lt</td><td>&lt;</td><td>小于</td></tr>
<tr><td>gte</td><td>&gt;=</td><td>大于等于</td></tr>
<tr><td>lte</td><td>&lt;=</td><td>小于等于</td></tr>
<tr><td>eq</td><td>=</td><td>等于</td></tr>
<tr><td>ne</td><td>!=</td><td>不等于</td></tr>
</tbody></table>
<pre data-lang="php" style="background-color:#2b303b;color:#6c7079;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#c94e42;">&lt;?php 
</span><span style="font-style:italic;color:#5f697a;">// Full suite of comparators exist
</span><span style="font-style:italic;color:#5f697a;">// ne, gt, lt, lte.
</span><span style="color:#eb6772;">$first</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">eq</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$second</span><span style="color:#abb2bf;">); 
</span><span style="color:#eb6772;">$first</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">gte</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$second</span><span style="color:#abb2bf;">);
</span><span style="color:#eb6772;">$first</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">gt</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$second</span><span style="color:#abb2bf;">); </span><span style="font-style:italic;color:#5f697a;">// &amp;gt;
</span><span style="color:#eb6772;">$first</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">lte</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$second</span><span style="color:#abb2bf;">);
</span><span style="color:#eb6772;">$first</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">lt</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$second</span><span style="color:#abb2bf;">); </span><span style="font-style:italic;color:#5f697a;">// &amp;lt;
</span><span style="color:#eb6772;">$first</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">ne</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$second</span><span style="color:#abb2bf;">);
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// See if the current object is between two others.
</span><span style="color:#eb6772;">$now</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">between</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$start</span><span style="color:#abb2bf;">, </span><span style="color:#eb6772;">$end</span><span style="color:#abb2bf;">);
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// Find which argument is closest or farthest.
</span><span style="color:#eb6772;">$now</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">closest</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$june</span><span style="color:#abb2bf;">, </span><span style="color:#eb6772;">$november</span><span style="color:#abb2bf;">);
</span><span style="color:#eb6772;">$now</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">farthest</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$june</span><span style="color:#abb2bf;">, </span><span style="color:#eb6772;">$november</span><span style="color:#abb2bf;">);
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// 日历处理
</span><span style="color:#abb2bf;">
</span><span style="color:#eb6772;">$now</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">isToday</span><span style="color:#abb2bf;">();
</span><span style="color:#eb6772;">$now</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">isYesterday</span><span style="color:#abb2bf;">();
</span><span style="color:#eb6772;">$now</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">isFuture</span><span style="color:#abb2bf;">();
</span><span style="color:#eb6772;">$now</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">isPast</span><span style="color:#abb2bf;">();
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// Check the day of the week
</span><span style="color:#eb6772;">$now</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">isWeekend</span><span style="color:#abb2bf;">();
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// All other weekday methods exist too.
</span><span style="color:#eb6772;">$now</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">isMonday</span><span style="color:#abb2bf;">();
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// 是否在一个时间段内
</span><span style="color:#abb2bf;">
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">wasWithinLast</span><span style="color:#abb2bf;">(</span><span style="color:#9acc76;">&#39;3 days&#39;</span><span style="color:#abb2bf;">);
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">isWithinNext</span><span style="color:#abb2bf;">(</span><span style="color:#9acc76;">&#39;3 hours&#39;</span><span style="color:#abb2bf;">);
</span></code></pre>
<h2 id="chai-yi-chu-li">差异处理</h2>
<pre data-lang="php" style="background-color:#2b303b;color:#6c7079;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#c94e42;">&lt;?php
</span><span style="font-style:italic;color:#5f697a;">// Get a DateInterval representing the difference
</span><span style="color:#eb6772;">$first</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">diff</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$second</span><span style="color:#abb2bf;">);
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// Get difference as a count of specific units.
</span><span style="color:#eb6772;">$first</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">diffInHours</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$second</span><span style="color:#abb2bf;">);
</span><span style="color:#eb6772;">$first</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">diffInDays</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$second</span><span style="color:#abb2bf;">);
</span><span style="color:#eb6772;">$first</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">diffInWeeks</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$second</span><span style="color:#abb2bf;">);
</span><span style="color:#eb6772;">$first</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">diffInYears</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$second</span><span style="color:#abb2bf;">);
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// Difference from now.
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$date</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">diffForHumans</span><span style="color:#abb2bf;">();
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// Difference from another point in time.
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$date</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">diffForHumans</span><span style="color:#abb2bf;">(</span><span style="color:#eb6772;">$other</span><span style="color:#abb2bf;">); </span><span style="font-style:italic;color:#5f697a;">// 1 hour ago;
</span></code></pre>
<h2 id="ge-shi-hua-chu-li">格式化处理</h2>
<pre data-lang="php" style="background-color:#2b303b;color:#6c7079;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#c94e42;">&lt;?php
</span><span style="font-style:italic;color:#5f697a;">// Uses the format controlled by setToStringFormat()
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$date</span><span style="color:#abb2bf;">;
</span><span style="color:#abb2bf;">
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">format</span><span style="color:#abb2bf;">(</span><span style="color:#9acc76;">&#39;Y-m-d H:i:s&#39;</span><span style="color:#abb2bf;">); </span><span style="font-style:italic;color:#5f697a;">// toFormattedDateString
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// Different standard formats
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toAtomString</span><span style="color:#abb2bf;">();      </span><span style="font-style:italic;color:#5f697a;">// 1975-12-25T14:15:16-05:00
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toCookieString</span><span style="color:#abb2bf;">();    </span><span style="font-style:italic;color:#5f697a;">// Thursday, 25-Dec-1975 14:15:16 EST
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toIso8601String</span><span style="color:#abb2bf;">();   </span><span style="font-style:italic;color:#5f697a;">// 1975-12-25T14:15:16-05:00
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toRfc822String</span><span style="color:#abb2bf;">();    </span><span style="font-style:italic;color:#5f697a;">// Thu, 25 Dec 75 14:15:16 -0500
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toRfc850String</span><span style="color:#abb2bf;">();    </span><span style="font-style:italic;color:#5f697a;">// Thursday, 25-Dec-75 14:15:16 EST
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toRfc1036String</span><span style="color:#abb2bf;">();   </span><span style="font-style:italic;color:#5f697a;">// Thu, 25 Dec 75 14:15:16 -0500
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toRfc1123String</span><span style="color:#abb2bf;">();   </span><span style="font-style:italic;color:#5f697a;">// Thu, 25 Dec 1975 14:15:16 -0500
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toRfc2822String</span><span style="color:#abb2bf;">();   </span><span style="font-style:italic;color:#5f697a;">// Thu, 25 Dec 1975 14:15:16 -0500
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toRfc3339String</span><span style="color:#abb2bf;">();   </span><span style="font-style:italic;color:#5f697a;">// 1975-12-25T14:15:16-05:00
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toRssString</span><span style="color:#abb2bf;">();       </span><span style="font-style:italic;color:#5f697a;">// Thu, 25 Dec 1975 14:15:16 -0500
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toW3cString</span><span style="color:#abb2bf;">();       </span><span style="font-style:italic;color:#5f697a;">// 1975-12-25T14:15:16-05:00
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// Get the quarter/week
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toQuarter</span><span style="color:#abb2bf;">();         </span><span style="font-style:italic;color:#5f697a;">// 4
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toWeek</span><span style="color:#abb2bf;">();            </span><span style="font-style:italic;color:#5f697a;">// 52
</span><span style="color:#abb2bf;">
</span><span style="font-style:italic;color:#5f697a;">// Generic formatting
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toTimeString</span><span style="color:#abb2bf;">();           </span><span style="font-style:italic;color:#5f697a;">// 14:15:16
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toDateString</span><span style="color:#abb2bf;">();           </span><span style="font-style:italic;color:#5f697a;">// 1975-12-25
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toDateTimeString</span><span style="color:#abb2bf;">();       </span><span style="font-style:italic;color:#5f697a;">// 1975-12-25 14:15:16
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toFormattedDateString</span><span style="color:#abb2bf;">();  </span><span style="font-style:italic;color:#5f697a;">// Dec 25, 1975
</span><span style="color:#5ebfcc;">echo </span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">toDayDateTimeString</span><span style="color:#abb2bf;">();    </span><span style="font-style:italic;color:#5f697a;">// Thu, Dec 25, 1975 2:15 PM
</span><span style="color:#abb2bf;">
</span></code></pre>
<h2 id="ri-qi-shi-jian">日期时间</h2>
<pre data-lang="php" style="background-color:#2b303b;color:#6c7079;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#c94e42;">&lt;?php 
</span><span style="color:#abb2bf;">
</span><span style="color:#eb6772;">$time </span><span style="color:#adb7c9;">= </span><span style="color:#cd74e8;">new </span><span style="color:#f0c678;">Chronos</span><span style="color:#abb2bf;">(</span><span style="color:#9acc76;">&#39;2015-12-31 23:59:58.123&#39;</span><span style="color:#abb2bf;">);
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">year</span><span style="color:#abb2bf;">;    </span><span style="font-style:italic;color:#5f697a;">// 2015
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">month</span><span style="color:#abb2bf;">;   </span><span style="font-style:italic;color:#5f697a;">// 12
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">day</span><span style="color:#abb2bf;">;     </span><span style="font-style:italic;color:#5f697a;">// 31
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">hour     </span><span style="font-style:italic;color:#5f697a;">// 23
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">minute   </span><span style="font-style:italic;color:#5f697a;">// 59
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">second   </span><span style="font-style:italic;color:#5f697a;">// 58
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">micro    </span><span style="font-style:italic;color:#5f697a;">// 123
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">timezone
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">timezoneName
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">dayOfWeek
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">dayOfMonth
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">dayOfYear
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">daysInMonth
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">timestamp
</span><span style="color:#eb6772;">$time</span><span style="color:#abb2bf;">-&gt;</span><span style="color:#eb6772;">quarter
</span></code></pre>
<p><strong>参考:</strong></p>
<ul>
<li><a href="https://book.cakephp.org/chronos/2/en/index.html">https://book.cakephp.org/chronos/2/en/index.html</a></li>
</ul>



  </div>
</div>



<div class="post-page pagination is-centered no-print">
  
  <a class="pagination-previous" href="&#x2F;&#x2F;erasin.wang&#x2F;gaoxiao&#x2F;">
    <i class="icon icon-left-open"></i>
    中国高校开源教材</a>
  

  
  <a class="pagination-next" href="&#x2F;&#x2F;erasin.wang&#x2F;font&#x2F;">
    Font 免费编程用字体
    <i class="icon icon-right-open"></i>
  </a>
  
</div>




    </div>

    <div id="right-side" class="right-side no-print mask">
      <div class="spaceline"></div>
      
  
<div class="box">
  <div class="meta box-body">
    
    <div class="meta-item">
      <strong>分类:</strong>
      




<a class="tag is-danger" href="//erasin.wang/categories/php/">php</a>



<a class="tag is-danger" href="//erasin.wang/categories/datetime/">datetime</a>


    </div>
    

    
    <div class="meta-item">
      <strong>标签:</strong>
      




<a class="tag is-dark" href="//erasin.wang/tags/php/">php</a>



<a class="tag is-success" href="//erasin.wang/tags/shi-jian-ge-shi/">时间格式</a>


    </div>
    
  </div>
</div>
  

<div></div>



<div class="box">
  <div class="box-body">
    
<ul class="row">
  
    
  
  
  
  
  
  <li style="min-width:50%">
    <a href="//erasin.wang/posts/linux-core-switch/">arch linux 更换内核 




</a>
    
  </li>
  
  
  
  
  <li style="min-width:50%">
    <a href="//erasin.wang/helix/hx-lsp/">hx-lsp 为 Helix editor 提供 snippets 和 actions 

<i class="icon icon-terminal"></i> 

</a>
    
  </li>
  
  
  
  
  <li style="min-width:50%">
    <a href="//erasin.wang/posts/blender-thumbnailer/">blender thumbnailer 在Linux下缩略图 




</a>
    
  </li>
  
  
  
  
  <li style="min-width:50%">
    <a href="//erasin.wang/helix/ime-switch/">在类vim/emacs/helix/vscode模态文本编辑器中使用esc键切换输入法 



<i class="icon icon-terminal"></i> 

</a>
    
  </li>
  
  
  
  
  <li style="min-width:50%">
    <a href="//erasin.wang/posts/makefile/">make 和 Makefile 




</a>
    
  </li>
  
  
  
  
  <li style="min-width:50%">
    <a href="//erasin.wang/posts/vscode-wayland/">vscode 在linux wayland 环境的处理 




</a>
    
  </li>
  
  
   
</ul>

  </div>
</div>


<div class="box no-print toc" id="toc">
  
  
  <ul class="ui list tree"> 
    <li class="item t1">
      <a data_id="shi-li-chuang-jian" href="//erasin.wang/php-chronos/#shi-li-chuang-jian">实例创建</a>

      

    </li>
    
    <li class="item t1">
      <a data_id="ke-bian-he-bu-ke-bian-dui-xiang" href="//erasin.wang/php-chronos/#ke-bian-he-bu-ke-bian-dui-xiang">可变 和 不可变对象</a>

      

    </li>
    
    <li class="item t1">
      <a data_id="ri-qi-dui-xiang" href="//erasin.wang/php-chronos/#ri-qi-dui-xiang">日期对象</a>

      

    </li>
    
    <li class="item t1">
      <a data_id="xiu-gai-fang-fa" href="//erasin.wang/php-chronos/#xiu-gai-fang-fa">修改方法</a>

      

    </li>
    
    <li class="item t1">
      <a data_id="bi-jiao" href="//erasin.wang/php-chronos/#bi-jiao">比较</a>

      

    </li>
    
    <li class="item t1">
      <a data_id="chai-yi-chu-li" href="//erasin.wang/php-chronos/#chai-yi-chu-li">差异处理</a>

      

    </li>
    
    <li class="item t1">
      <a data_id="ge-shi-hua-chu-li" href="//erasin.wang/php-chronos/#ge-shi-hua-chu-li">格式化处理</a>

      

    </li>
    
    <li class="item t1">
      <a data_id="ri-qi-shi-jian" href="//erasin.wang/php-chronos/#ri-qi-shi-jian">日期时间</a>

      

    </li>
    
  </ul>
  
</div>



 
    </div>
  </div>

  
  <footer id="footer" class="footer no-print text-center">
     
    <p style="color: gray; padding: 10px">
      站点由<a href="https://www.getzola.org/" target="_blank">Zola</a> 驱动 |
      <a href='https://beian.miit.gov.cn/' target='_blank'>浙ICP备2022034121号</a>
    </p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/animejs@3.1.0/lib/anime.min.js" defer></script>
  <script src='//erasin.wang/assets/js/comment.js?F59EA3FB4CHG8E' defer></script>
  <script src='//erasin.wang/assets/js/init.js?F59EA3FB4CHG8E' defer></script>
  
<script src='//erasin.wang/assets/js/page.js?F59EA3FB4CHG8E'></script>


  <!-- Google tag (gtag.js) -->
  <!--script async src="https://www.googletagmanager.com/gtag/js?id=G-EVFY56MH67"></script-->
  <script>
    window.dataLayer = window.dataLayer || [];
    // function gtag() {dataLayer.push(arguments);}
    // gtag('js', new Date());

    // gtag('config', 'G-EVFY56MH67');
  </script>
</body>

</html>
