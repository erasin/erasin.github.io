<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>love you</title>
  </head>

  <div class="content">

    <svg id="heart1" width="100" height="100">
        <path
          fill="tomato"
          d="M92.71,7.27L92.71,7.27c-9.71-9.69-25.46-9.69-35.18,0L50,14.79l-7.54-7.52C32.75-2.42,17-2.42,7.29,7.27v0 c-9.71,9.69-9.71,25.41,0,35.1L50,85l42.71-42.63C102.43,32.68,102.43,16.96,92.71,7.27z"
        ></path>
    </svg>
    <!-- <div id="light"></div> -->

    <!-- 
M：移动到（moveto）   point
L：画直线到（lineto） point
Z：闭合路径 
     -->

    <!-- <svg id="path" width="500" height="150"> </svg> -->
    <svg id="heart2" width="100" height="100" >
        <path fill="#ef4527"
          d="M92.71,7.27L92.71,7.27c-9.71-9.69-25.46-9.69-35.18,0L50,14.79l-7.54-7.52C32.75-2.42,17-2.42,7.29,7.27v0 c-9.71,9.69-9.71,25.41,0,35.1L50,85l42.71-42.63C102.43,32.68,102.43,16.96,92.71,7.27z"
        ></path>
    </svg>


    <div id = "indays"> </div> 
    <div id = "indays-label"> 天 </div> 

    </div>

    <div id="content2">
      愿生活安静的前行，伴你左右。
    </div>
    
    <style>
      /* body {
        align-items: center;
        justify-content: center; 
      } */

      #content2{
        /* box-shadow: 2px 2px 2px #333; */
        text-align: center;
      }

      .content {
          padding-left: 40px;
          width:220px;
          height: 100%;
          margin: 100px auto;
      }

      .lang {
        background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 4'%3E%3Cpath fill='none' stroke='%23ff3300' d='M0 3.5c5 0 5-3 10-3s5 3 10 3 5-3 10-3 5 3 10 3'/%3E%3C/svg%3E")
          repeat-x 0 100%;
        background-size: 20px auto;
        animation: waveMove 1s infinite linear;
      }

      #indays{
        font-size: 2em;
        width: 100%;
        color:coral;
        padding-top:20px;
        left:-225px;
        top:60px;
        position: relative;
      }
      #indays-label {
        position: relative;
        top:5px;
        left:330px;
        color: tomato;
        font-family: monospace;
        font-size: 1.5em;
      }

      #light {
        position: absolute;
        top: 0.5rem;
        left: 0.5rem;
        width: 1.5em;
        height: 1px;
        background: red;
      }

       #heart1 {
        position: relative;
      }

      #heart2 {
        position: relative;
        top:30px;
      } 

    </style>

    <link
      rel="stylesheet"
      href="https://cdn.staticfile.org/animate.css/3.7.2/animate.min.css"
    />
    <script src="https://cdn.staticfile.org/animejs/2.2.0/anime.min.js"></script>

    <script>
    //   var path = anime.path("#path");
    //   anime({
    //     targets: "#light",
    //     translateX: path("x"),
    //     translateY: path("y"),
    //     rotate: path("angle"),
    //     easing: "linear",
    //     duration: 2000,
    //     loop: true,
    //   });

    // anime({
    //     targets: '#heart1',
    //     translateX: 250, // -> '250px'
    //     rotate: 540 // -> '540deg'
    // });

      anime({
        targets: "#heart1",
        baseFrequency: 0,
        loop: true,
        scale: [
          { value: 1.5, easing: "easeInOutSine", duration: 500 },
          { value: 1, easing: "easeInOutQuad", duration: 1200 },
        ],
        // rotate: anime.stagger([-360, ((360 - (-360)) / 5) * 1]),
        direction: "alternate",
      });

      anime({
        targets: "#heart2",
        baseFrequency: 0,
        loop: true,
        scale: [
          { value: 1.5, easing: "easeInOutSine", duration: 600 },
          { value: 1, easing: "easeInOutQuad", duration: 1400 },
        ],
        direction: "alternate",
      });

      //   anime({
      //     targets: "#heart2",
      //     translateX: 250,
      //     rotate: "1turn",
      //     // backgroundColor: "",
      //     duration: 800,
      //   });

      const scale = 1; // 动画的整体缩放
      const numberOfParticle = 6; // 粒子数量
      const particleColor = [
        "#4fc3f7",
        "#00b454",
        "#d8f800",
        "#0b61a4",
        "#4db6ac",
        "#f06292",
      ]; // 粒子颜色
      const particleDistance = 100 * scale; // 粒子飞行距离
      const circleSize = 90 * scale; // 圆环大小
      const circleBorderWidth = 10 * scale; // 圆环宽度
      const particleSize = 10 * scale; // 粒子大小
      const circleOpacity = 0.5; // 圆环透明度
      const duration = 1000; // 动画持续时间

      // 创建圆环
      function createCircle(x, y, color = "#1d72ff") {
        const circle = document.createElement("span");
        circle.style.position = "fixed"; // 使用fixed以防撑开页面
        circle.style.display = "block";
        circle.style.borderRadius = `${circleSize}px`;
        circle.style.boxSizing = "border-box";
        circle.style.opacity = `${circleOpacity}`;
        circle.style.width = circleSize + "px";
        circle.style.height = circleSize + "px";
        circle.style.left = x - circleSize / 2 + "px";
        circle.style.top = y - circleSize / 2 + "px";
        circle.style.border = `${circleBorderWidth}px solid ${color}`;
        circle.style.transform = "scale(.01)";
        circle.style.borderWidth = "10px";
        document.body.appendChild(circle);
        return circle;
      }
      // 创建粒子
      function createParticle(x, y, index) {
        x = x - particleSize / 2;
        y = y - particleSize / 2;
        const particle = document.createElement("div");
        particle.style.position = "fixed";
        particle.style.left = x + "px";
        particle.style.top = y + "px";
        particle.style.width = particleSize + "px";
        particle.style.height = particleSize + "px";
        particle.style.borderRadius = particleSize + "px";
        if (particleColor instanceof Array) {
          particle.style.backgroundColor =
            particleColor[index % particleColor.length];
        } else {
          particle.style.backgroundColor = particleColor;
        }

        const angle = ((index * (360 / numberOfParticle) - 90) * Math.PI) / 180;
        particle.endPos = {
          // 计算出每个粒子消失点的位置
          x: Math.cos(angle) * particleDistance,
          y: Math.sin(angle) * particleDistance,
        };

        document.body.appendChild(particle);
        return particle;
      }

      // 效果
      function fire(x, y) {
        // 实例化粒子h 和圆
        const particles = [];
        for (let i = 0; i < numberOfParticle; i++) {
          particles.push(createParticle(x, y, i));
        }
        // const circle = createCircle(x, y);

        anime
          .timeline() // anime时间线动画。文档：https://github.com/juliangarnier/anime#timeline
          .add({
            // 粒子飞向各自的结束点
            targets: particles,
            translateX: function(p) {
              // transform动画
              return parseFloat(p.endPos.x.toFixed(10));
            },
            translateY: function(p) {
              return parseFloat(p.endPos.y.toFixed(10));
            },
            easing: "easeOutExpo",
            duration: duration,
          })
          .add({
            // 粒子缩小
            translateX: function(p) {
              return parseFloat(p.endPos.x.toFixed(10)); // 由于transform已经被之前translate的动画占用，如果还要加scale动画的话就要确保translate不被覆盖。
            },
            translateY: function(p) {
              return parseFloat(p.endPos.y.toFixed(10));
            },
            targets: particles,
            scale: 0.01,
            easing: "easeOutQuad",
            duration: 900,
            offset: duration - 900, // 此动画距离动画开始时间的偏移
          });
        //   .add({
        //     targets: circle,
        //     scale: 1,
        //     borderWidth: circleBorderWidth,
        //     easing: "easeOutQuad",
        //     duration: duration / 3.5,
        //     offset: 0,
        //   })
        //   .add({
        //     targets: circle,
        //     borderWidth: 0,
        //     easing: "linear",
        //     duration: duration / 3.5,
        //     offset: duration / 3.5,
        //   });
        setTimeout(function() {
          // 移除动画dom
          particles.forEach((o) => {
            document.body.removeChild(o);
          });
          document.body.removeChild(circle);
        }, duration);
      }

      //   fire(100, 100);


var date_diff_indays = function(date1) {
dt1 = new Date(date1);
dt2 = new Date();
return Math.floor((Date.UTC(dt2.getFullYear(), dt2.getMonth(), dt2.getDate()) - Date.UTC(dt1.getFullYear(), dt1.getMonth(), dt1.getDate()) ) /(1000 * 60 * 60 * 24));
}

document.getElementById("indays").innerText = date_diff_indays("01/30/2019") ;

anime({
  targets: '#indays',
  translateX: 250,
  translateY: -60,
  duration: 3000
});

anime({
  targets: '#indays-label',
  translateX: -250,
  translateY: -50,
  duration: 6000,
  // rotateZ: anime.stagger([0, 90], {grid: [14, 5], from: 'center', axis: 'x'}),
});


    </script>
  </body>
</html>
